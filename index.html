<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
:root{
  --accent:#5b8cff;
  --btn-size:48px;
}
html, body {
  height: 100%;
  margin: 0;
  background: transparent;
  font-family: Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  color: #e6eef8;
}
.wrap {
  max-width: 1000px;
  margin: 0; /* align to top left */
  padding: 0;
}

/* Carousel */
.carousel {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  background: transparent;
  box-shadow: 0 8px 30px rgba(2,6,23,0);
  user-select: none;
}
.track {
  display: flex;
  transition: transform .35s cubic-bezier(.2,.9,.2,1);
  will-change: transform;
}
.slide {
  min-width: 100%;
  padding: 0;
  box-sizing: border-box;
}
.slide-inner {
  border-radius: 14px;
  overflow: hidden;
  background: transparent;
  height: 520px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.slide-inner img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Buttons */
.btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: var(--btn-size);
  height: var(--btn-size);
  border-radius: 50%;
  background: rgba(5,10,30,0.6);
  backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255,255,255,0.06);
  cursor: pointer;
  box-shadow: 0 6px 18px rgba(2,6,23,0.6);
}
.btn svg {
  width: 20px;
  height: 20px;
  fill: #fff;
}
.btn.left { left: 18px; }
.btn.right { right: 18px; }

/* Dots */
.dots {
  display: flex;
  gap: 8px;
  justify-content: center;
  padding: 12px 0;
}
.dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: rgba(210,210,210,0.8);
  cursor: pointer;
}
.dot.active {
  background: var(--accent);
}

/* Responsive */
@media (max-width:800px){
  .slide-inner{ height:62vw; }
  .btn{ width:40px; height:40px; }
}
</style>
</head>
<body>
<div class="wrap">
  <div id="carousel" class="carousel" aria-roledescription="carousel">
    <div id="track" class="track"></div>
    <button class="btn left" id="prevBtn" aria-label="Previous">
      <svg viewBox="0 0 24 24" focusable="false"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
    </button>
    <button class="btn right" id="nextBtn" aria-label="Next">
      <svg viewBox="0 0 24 24" focusable="false"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/></svg>
    </button>
  </div>
  <div id="dots" class="dots" aria-hidden="true"></div>
</div>

<script>
const images = [
  'https://cdn.shopify.com/s/files/1/0055/5525/7434/files/FlightSimulator2024_Zzmgd3yVzs.png?v=1758567276',
  'https://cdn.shopify.com/s/files/1/0055/5525/7434/files/MicrosoftFlightSimulator2024Screenshot2025.09.18-14.43.25.01.png?v=1758567276',
  'https://cdn.shopify.com/s/files/1/0055/5525/7434/files/FlightSimulator2024_wfiAFbPbdU.png?v=1758567276',
  'https://cdn.shopify.com/s/files/1/0055/5525/7434/files/FlightSimulator2024_Vrg9tEe3Wx.png?v=1758567276',
  'https://cdn.shopify.com/s/files/1/0055/5525/7434/files/FlightSimulator2024_pMcjTZrmA3.png?v=1758556386'
];

const track = document.getElementById('track');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const dotsWrap = document.getElementById('dots');

let index = 1;
let slides = [];

// --- build slides with clones for infinite loop ---
function makeSlide(src, idx){
  const s = document.createElement('div'); s.className='slide';
  const inner = document.createElement('div'); inner.className='slide-inner';
  const img = document.createElement('img'); img.src=src; img.alt=`Slide ${idx+1}`;
  inner.appendChild(img); s.appendChild(inner);
  return s;
}

function buildCarousel(){
  track.innerHTML='';
  const first = makeSlide(images[0],0);
  const last = makeSlide(images[images.length-1], images.length-1);

  track.appendChild(last.cloneNode(true));
  images.forEach((src,i)=>track.appendChild(makeSlide(src,i)));
  track.appendChild(first.cloneNode(true));

  slides = Array.from(track.children);

  // dots
  dotsWrap.innerHTML='';
  images.forEach((_,i)=>{
    const d=document.createElement('div'); d.className='dot'; d.dataset.i=i;
    d.addEventListener('click', ()=>goTo(i));
    dotsWrap.appendChild(d);
  });

  index = 1;
  applyTranslate(false);
  updateDots();
}

// --- update transform ---
function applyTranslate(animate=true){
  track.style.transition = animate ? 'transform .35s cubic-bezier(.2,.9,.2,1)' : 'none';
  track.style.transform = `translateX(${-index*100}%)`;
}

function updateDots(){
  const dots = Array.from(dotsWrap.children);
  dots.forEach(d=>d.classList.remove('active'));
  const imgIndex = (index-1+images.length)%images.length;
  if(dots[imgIndex]) dots[imgIndex].classList.add('active');
}

function goTo(i){ index=i+1; applyTranslate(); updateDots(); }

// --- buttons ---
nextBtn.addEventListener('click', ()=>{ index++; applyTranslate(); });
prevBtn.addEventListener('click', ()=>{ index--; applyTranslate(); });

// --- infinite loop ---
track.addEventListener('transitionend', ()=>{
  if(index===0){ index=images.length; applyTranslate(false); }
  if(index===images.length+1){ index=1; applyTranslate(false); }
  updateDots();
});

// --- drag support ---
let isDragging=false;
let startX=0;
let currentTranslate=0;
let prevTranslate=0;
let animationID;

function setPosition(){
  track.style.transform=`translateX(${currentTranslate}px)`;
  if(isDragging) requestAnimationFrame(setPosition);
}

track.addEventListener('pointerdown', e=>{
  isDragging=true;
  startX=e.clientX;
  prevTranslate=-index*track.offsetWidth;
  currentTranslate=prevTranslate;
  track.style.transition='none';
  track.setPointerCapture(e.pointerId);
  animationID=requestAnimationFrame(setPosition);
});

track.addEventListener('pointermove', e=>{
  if(!isDragging) return;
  const dx=e.clientX-startX;
  currentTranslate=prevTranslate+dx;
});

track.addEventListener('pointerup', e=>{
  if(!isDragging) return;
  isDragging=false;
  cancelAnimationFrame(animationID);
  const dx=e.clientX-startX;
  const threshold=track.offsetWidth*0.2;
  if(dx>threshold) index--;
  else if(dx<-threshold) index++;
  track.style.transition='transform .35s cubic-bezier(.2,.9,.2,1)';
  applyTranslate();
});

track.addEventListener('pointercancel', e=>{
  if(isDragging){
    isDragging=false;
    cancelAnimationFrame(animationID);
    applyTranslate();
  }
});

// touch events for mobile
track.addEventListener('touchstart', e=>track.dispatchEvent(new PointerEvent('pointerdown', e.touches[0])));
track.addEventListener('touchmove', e=>track.dispatchEvent(new PointerEvent('pointermove', e.touches[0])));
track.addEventListener('touchend', e=>track.dispatchEvent(new PointerEvent('pointerup', e.changedTouches[0])));
track.addEventListener('touchcancel', e=>track.dispatchEvent(new PointerEvent('pointercancel', e.changedTouches[0])));

buildCarousel();

// --- handle window resize ---
window.addEventListener('resize', ()=>applyTranslate(false));
</script>
</body>
</html>
